<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>MÃ©tricas | Marketplace Manager</title>
    <link rel="stylesheet" href="../../assets/css/app.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="../../assets/js/supabase.js"></script>
</head>
<body>
    <div class="layout">
        <div id="sidebar-host"></div>
        <main class="content">
            <h1>ğŸ“ˆ MÃ©tricas de Rendimiento</h1>
            
            <div id="alerta-carga" style="background: rgba(239,68,68,0.2); border: 1px solid #ef4444; padding: 15px; border-radius: 8px; margin-bottom: 20px; display: none;">
                <h3 style="margin:0; color:#f87171;">âš ï¸ Â¡AtenciÃ³n!</h3>
                <p id="texto-alerta" style="margin:5px 0;">Hace mÃ¡s de 7 dÃ­as que no cargas mÃ©tricas.</p>
            </div>

            <div class="grid" style="grid-template-columns: 1fr 2fr; gap: 20px;">
                
                <section class="card" style="height: fit-content;">
                    <h3>ğŸ“ Cargar Reporte Semanal</h3>
                    <p class="muted" style="font-size:0.8rem; margin-bottom:15px;">SeleccionÃ¡ la cuenta y cargÃ¡ los clicks de los Ãºltimos 7 dÃ­as.</p>

                    <label>Cuenta de Facebook</label>
                    <select id="sel-cuenta" style="width:100%; padding:10px; margin-bottom:15px; background:#0f172a; color:white; border:1px solid #334155; border-radius:6px;"></select>

                    <label>Clicks (Ãšltimos 7 dÃ­as)</label>
                    <input type="number" id="inp-clicks" placeholder="Ej: 150" style="width:100%; padding:10px; margin-bottom:15px; background:#0f172a; color:white; border:1px solid #334155; border-radius:6px;">

                    <button id="btn-guardar" class="btn" style="width:100%;">ğŸ’¾ Guardar MÃ©trica</button>
                </section>

                <section class="card">
                    <h3>ğŸ“œ Historial Reciente</h3>
                    <table class="table" style="width:100%; border-collapse:collapse;">
                        <thead>
                            <tr style="color:#94a3b8; border-bottom:1px solid rgba(255,255,255,0.1);">
                                <th style="text-align:left; padding:8px;">Fecha</th>
                                <th style="text-align:left; padding:8px;">Cuenta (Mail)</th>
                                <th style="text-align:left; padding:8px;">Clicks 7D</th>
                                <th style="text-align:left; padding:8px;">Usuario</th>
                            </tr>
                        </thead>
                        <tbody id="lista-metricas"></tbody>
                    </table>
                </section>
            </div>
        </main>
    </div>
    <script type="module" src="./metricas.js"></script>
</body>
</html>